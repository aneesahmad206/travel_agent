"""
This type stub file was generated by pyright.
"""

import pandas as pd
from pathlib import Path
from typing import TYPE_CHECKING
from ibm_watsonx_ai.wml_resource import WMLResource
from ibm_watsonx_ai import APIClient

if TYPE_CHECKING:
    ...
class Connections(WMLResource):
    """Store and manage connections."""
    ConfigurationMetaNames = ...
    DEFAULT_LIST_LIMIT = ...
    def __init__(self, client: APIClient) -> None:
        ...
    
    def get_details(self, connection_id: str | None = ..., limit: int | None = ...) -> dict:
        """Get connection details for the given unique connection ID.
        If no connection_id is passed, details for all connections are returned.

        :param connection_id: unique ID of the connection
        :type connection_id: str

        :param limit: limit number of fetched assets, if None will get all assets, defaults to None
        :type limit: int, optional

        :return: metadata of the stored connection
        :rtype: dict

        **Example:**

        .. code-block:: python

            connection_details = client.connections.get_details(connection_id)
            connection_details = client.connections.get_details()
            connection_details = client.connections.get_details(limit=500)

        """
        ...
    
    async def aget_details(self, connection_id: str | None = ..., limit: int | None = ...) -> dict:
        """Get connection details for the given unique connection ID asynchronously.
        If no connection_id is passed, details for all connections are returned.

        :param connection_id: unique ID of the connection
        :type connection_id: str, optional

        :param limit: limit number of fetched assets, if None will get all assets, defaults to None
        :type limit: int, optional

        :return: metadata of the stored connection
        :rtype: dict

        **Example:**

        .. code-block:: python

            connection_details = await client.connections.aget_details(
                connection_id
            )
            connection_details = await client.connections.aget_details()
            connection_details = await client.connections.aget_details(limit=500)

        """
        ...
    
    def create(self, meta_props: dict) -> dict:
        """Create a connection. Examples of PROPERTIES field input:

        1. MySQL

            .. code-block:: python

                client.connections.ConfigurationMetaNames.PROPERTIES: {
                    "database": "database",
                    "password": "password",
                    "port": "3306",
                    "host": "host url",
                    "ssl": "false",
                    "username": "username",
                }

        2. Google BigQuery

            a. Method 1: Using service account json. The generated service account json can be provided as input as-is. Provide actual values in json. The example below is only indicative to show the fields. For information on how to generate the service account json, refer to Google BigQuery documentation.

                .. code-block:: python

                    client.connections.ConfigurationMetaNames.PROPERTIES: {
                        "type": "service_account",
                        "project_id": "project_id",
                        "private_key_id": "private_key_id",
                        "private_key": "private key contents",
                        "client_email": "client_email",
                        "client_id": "client_id",
                        "auth_uri": "https://accounts.google.com/o/oauth2/auth",
                        "token_uri": "https://oauth2.googleapis.com/token",
                        "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
                        "client_x509_cert_url": "client_x509_cert_url",
                    }

            b. Method 2: Using OAuth Method. For information on how to generate a OAuth token, refer to Google BigQuery documentation.

                .. code-block:: python

                    client.connections.ConfigurationMetaNames.PROPERTIES: {
                        "access_token": "access token generated for big query",
                        "refresh_token": "refresh token",
                        "project_id": "project_id",
                        "client_secret": "This is your gmail account password",
                        "client_id": "client_id",
                    }

        3. MS SQL

            .. code-block:: python

                client.connections.ConfigurationMetaNames.PROPERTIES: {
                    "database": "database",
                    "password": "password",
                    "port": "1433",
                    "host": "host",
                    "username": "username",
                }

        4. Teradata

            .. code-block:: python

                client.connections.ConfigurationMetaNames.PROPERTIES: {
                    "database": "database",
                    "password": "password",
                    "port": "1433",
                    "host": "host",
                    "username": "username",
                }

        :param meta_props: metadata of the connection configuration. To see available meta names, use:

            .. code-block:: python

                client.connections.ConfigurationMetaNames.get()

        :type meta_props: dict

        :return: metadata of the stored connection
        :rtype: dict

        **Example:**

        .. code-block:: python

            sqlserver_data_source_type_id = (
                client.connections.get_datasource_type_id_by_name("sqlserver")
            )
            connections_details = client.connections.create(
                {
                    client.connections.ConfigurationMetaNames.NAME: "sqlserver connection",
                    client.connections.ConfigurationMetaNames.DESCRIPTION: "connection description",
                    client.connections.ConfigurationMetaNames.DATASOURCE_TYPE: sqlserver_data_source_type_id,
                    client.connections.ConfigurationMetaNames.PROPERTIES: {
                        "database": "database",
                        "password": "password",
                        "port": "1433",
                        "host": "host",
                        "username": "username",
                    },
                }
            )

        """
        ...
    
    def delete(self, connection_id: str) -> str:
        """Delete a stored connection.

        :param connection_id: unique ID of the connection to be deleted
        :type connection_id: str

        :return: status ("SUCCESS" or "FAILED")
        :rtype: str

        **Example:**

        .. code-block:: python

            client.connections.delete(connection_id)

        """
        ...
    
    @staticmethod
    def get_uid(connection_details: dict) -> str:
        """Get the unique ID of a stored connection.

        *Deprecated:* Use ``Connections.get_id(details)`` instead.

        :param connection_details: metadata of the stored connection
        :type connection_details: dict

        :return: unique ID of the stored connection
        :rtype: str

        **Example:**

        .. code-block:: python

            connection_uid = client.connection.get_uid(connection_details)

        """
        ...
    
    @staticmethod
    def get_id(connection_details: dict) -> str:
        """Get ID of a stored connection.

        :param connection_details: metadata of the stored connection
        :type connection_details: dict

        :return: unique ID of the stored connection
        :rtype: str

        **Example:**

        .. code-block:: python

            connection_id = client.connection.get_id(connection_details)

        """
        ...
    
    def list_datasource_types(self) -> pd.DataFrame:
        """Print stored datasource types assets in a table format.

        :return: pandas.DataFrame with listed datasource types
        :rtype: pandas.DataFrame

        **Example:**
        https://test.cloud.ibm.com/apidocs/watsonx-ai#trainings-list

        .. code-block:: python

            client.connections.list_datasource_types()

        """
        ...
    
    def list(self, limit: int | None = ...) -> pd.DataFrame:
        """Return pd.DataFrame table with all stored connections in a table format.

        :param limit: limit number of fetched assets, if None will get all assets, defaults to None
        :type limit: int, optional

        :return: pandas.DataFrame with listed connections
        :rtype: pandas.DataFrame

        **Example:**

        .. code-block:: python

            client.connections.list()
            client.connections.list(limit=500)

        """
        ...
    
    def list_uploaded_db_drivers(self) -> pd.DataFrame:
        """Return pd.DataFrame table with uploaded db driver jars in table a format. Supported for IBM Cloud Pak速 for Data only.

        :return: pandas.DataFrame with listed uploaded db drivers
        :rtype: pandas.DataFrame

        **Example:**

        .. code-block:: python

            client.connections.list_uploaded_db_drivers()

        """
        ...
    
    def get_uploaded_db_drivers(self) -> dict[str, str]:
        """
        Get uploaded db driver jar names and paths.
        Supported for IBM Cloud Pak速 for Data, version 5.0 and up.

        **Output**

        .. important::
             Returns dictionary containing name and path for connection files.\n
             **return type**: Dict[Str, Str]\n

        **Example:**

        .. code-block:: python

            result = client.connections.get_uploaded_db_drivers()

        """
        ...
    
    def get_datasource_type_details_by_id(self, datasource_type_id: str, connection_properties: bool = ...) -> dict:
        """Get datasource type details for the given datasource type ID asynchronously.

        :param datasource_type_id: ID of the datasource type
        :type datasource_type_id: str

        :param connection_properties: if `True`, the connection properties are included in the returned details, defaults to `False`
        :type connection_properties: bool

        :return: Datasource type details
        :rtype: dict

        **Example:**

        .. code-block:: python

            client.connections.get_datasource_type_details_by_id(datasource_type_id)

        """
        ...
    
    def get_datasource_type_details_by_name(self, datasource_type_name: str, connection_properties: bool = ...) -> dict:
        """Get datasource type details for the given datasource type name.

        :param datasource_type_name: name of the datasource type
        :type datasource_type_name: str

        :param connection_properties: if `True`, the connection properties are included in the returned details, defaults to `False`
        :type connection_properties: bool

        :return: Datasource type details
        :rtype: dict

        **Example:**

        .. code-block:: python

            client.connections.get_datasource_type_details_by_name(
                datasource_type_name
            )

        """
        ...
    
    async def aget_datasource_type_details_by_name(self, datasource_type_name: str, connection_properties: bool = ...) -> dict:
        """Get datasource type details for the given datasource type name asynchronously.

        :param datasource_type_name: name of the datasource type
        :type datasource_type_name: str

        :param connection_properties: if `True`, the connection properties are included in the returned details, defaults to `False`
        :type connection_properties: bool

        :return: Datasource type details
        :rtype: dict

        **Example:**

        .. code-block:: python

            await client.connections.aget_datasource_type_details_by_name(
                datasource_type_name
            )

        """
        ...
    
    def get_datasource_type_uid_by_name(self, name: str) -> str:
        """Get a stored datasource type ID for the given datasource type name.

        *Deprecated:* Use ``Connections.get_datasource_type_id_by_name(name)`` instead.

        :param name: name of datasource type
        :type name: str

        :return: ID of datasource type
        :rtype: str

        **Example:**

        .. code-block:: python

            client.connections.get_datasource_type_uid_by_name("cloudobjectstorage")

        """
        ...
    
    def get_datasource_type_id_by_name(self, name: str) -> str:
        """Get a stored datasource type ID for the given datasource type name.

        :param name: name of datasource type
        :type name: str

        :return: ID of datasource type
        :rtype: str

        **Example:**

        .. code-block:: python

            client.connections.get_datasource_type_id_by_name("cloudobjectstorage")

        """
        ...
    
    async def aget_datasource_type_id_by_name(self, name: str) -> str:
        """Get a stored datasource type ID for the given datasource type name asynchronously.

        :param name: name of datasource type
        :type name: str

        :return: ID of datasource type
        :rtype: str

        **Example:**

        .. code-block:: python

            await client.connections.aget_datasource_type_id_by_name(
                "cloudobjectstorage"
            )

        """
        ...
    
    def get_write_mode_by_datasource_type(self, datasource_type: str) -> str:
        ...
    
    def upload_db_driver(self, path: str | Path) -> None:
        """Upload db driver jar. Supported for IBM Cloud Pak速 for Data only, version 4.0.4 and up.

        :param path: path to the db driver jar file
        :type path: str | Path

        **Example:**

        .. code-block:: python

            client.connections.upload_db_driver("example/path/db2jcc4.jar")

        """
        ...
    
    def get_db_driver_url(self, name: str) -> str:
        ...
    
    def sign_db_driver_url(self, jar_name: str) -> str:
        """Get a signed db driver jar URL to be used during JDBC generic connection creation.
        The jar name passed as argument needs to be uploaded into the system first.
        Supported for IBM Cloud Pak速 for Data only, version 4.0.4 and later.

        :param jar_name: name of db driver jar
        :type jar_name: str

        :return: URL of signed db driver
        :rtype: str

        **Example:**

        .. code-block:: python

            jar_uri = client.connections.sign_db_driver_url("db2jcc4.jar")

        """
        ...
    


