"""
This type stub file was generated by pyright.
"""

import httpx
import requests
from contextlib import asynccontextmanager, contextmanager
from typing import Any, AsyncIterator, Iterator, TYPE_CHECKING

if TYPE_CHECKING:
    ...
HTTPX_DEFAULT_TIMEOUT = ...
HTTPX_KEEPALIVE_EXPIRY = ...
HTTPX_DEFAULT_LIMIT = ...
DEFAULT_RETRY_STATUS_CODES = ...
MAX_RETRY_DELAY = ...
DEFAULT_DELAY = ...
_MAX_RETRIES = ...
REMAINING_LIMIT_HEADER = ...
additional_settings = ...
verify = ...
def set_verify_for_requests(func): # -> _Wrapped[Callable[..., Any], Any, Callable[..., Any], Any]:
    ...

def set_additional_settings_for_requests(func): # -> _Wrapped[Callable[..., Any], Any, Callable[..., Any], Any]:
    ...

@set_verify_for_requests
@set_additional_settings_for_requests
def get(url, params=..., **kwargs): # -> Response:
    r"""Sends a GET request.

    :param url: URL for the new :class:`Request` object.
    :param params: (optional) Dictionary, list of tuples or bytes to send
        in the query string for the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response <Response>` object
    :rtype: requests.Response
    """
    ...

@set_verify_for_requests
@set_additional_settings_for_requests
def options(url, **kwargs): # -> Response:
    r"""Sends an OPTIONS request.

    :param url: URL for the new :class:`Request` object.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response <Response>` object
    :rtype: requests.Response
    """
    ...

@set_verify_for_requests
@set_additional_settings_for_requests
def head(url, **kwargs): # -> Response:
    r"""Sends a HEAD request.

    :param url: URL for the new :class:`Request` object.
    :param \*\*kwargs: Optional arguments that ``request`` takes. If
        `allow_redirects` is not provided, it will be set to `False` (as
        opposed to the default :meth:`request` behavior).
    :return: :class:`Response <Response>` object
    :rtype: requests.Response
    """
    ...

@set_verify_for_requests
@set_additional_settings_for_requests
def post(url, data=..., json=..., **kwargs): # -> Response:
    r"""Sends a POST request.

    :param url: URL for the new :class:`Request` object.
    :param data: (optional) Dictionary, list of tuples, bytes, or file-like
        object to send in the body of the :class:`Request`.
    :param json: (optional) json data to send in the body of the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response <Response>` object
    :rtype: requests.Response
    """
    ...

@set_verify_for_requests
@set_additional_settings_for_requests
def put(url, data=..., **kwargs): # -> Response:
    r"""Sends a PUT request.

    :param url: URL for the new :class:`Request` object.
    :param data: (optional) Dictionary, list of tuples, bytes, or file-like
        object to send in the body of the :class:`Request`.
    :param json: (optional) json data to send in the body of the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response <Response>` object
    :rtype: requests.Response
    """
    ...

@set_verify_for_requests
@set_additional_settings_for_requests
def patch(url, data=..., **kwargs): # -> Response:
    r"""Sends a PATCH request.

    :param url: URL for the new :class:`Request` object.
    :param data: (optional) Dictionary, list of tuples, bytes, or file-like
        object to send in the body of the :class:`Request`.
    :param json: (optional) json data to send in the body of the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response <Response>` object
    :rtype: requests.Response
    """
    ...

@set_verify_for_requests
@set_additional_settings_for_requests
def delete(url, **kwargs): # -> Response:
    r"""Sends a DELETE request.

    :param url: URL for the new :class:`Request` object.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response <Response>` object
    :rtype: requests.Response
    """
    ...

class Session(requests.Session):
    """A Requests session.

    Provides cookie persistence, connection-pooling, and configuration.

    Basic Usage::

      >>> import requests
      >>> s = requests.Session()
      >>> s.get('https://httpbin.org/get')
      <Response [200]>

    Or as a context manager::

      >>> with requests.Session() as s:
      ...     s.get('https://httpbin.org/get')
      <Response [200]>
    """
    def __init__(self) -> None:
        ...
    
    @set_verify_for_requests
    @set_additional_settings_for_requests
    def request(self, method, url, **kwargs): # -> Response:
        """Constructs a :class:`Request <Request>`, prepares it and sends it.
        Returns :class:`Response <Response>` object.

        :param method: method for the new :class:`Request` object.
        :param url: URL for the new :class:`Request` object.
        :param params: (optional) Dictionary or bytes to be sent in the query
            string for the :class:`Request`.
        :param data: (optional) Dictionary, list of tuples, bytes, or file-like
            object to send in the body of the :class:`Request`.
        :param json: (optional) json to send in the body of the
            :class:`Request`.
        :param headers: (optional) Dictionary of HTTP Headers to send with the
            :class:`Request`.
        :param cookies: (optional) Dict or CookieJar object to send with the
            :class:`Request`.
        :param files: (optional) Dictionary of ``'filename': file-like-objects``
            for multipart encoding upload.
        :param auth: (optional) Auth tuple or callable to enable
            Basic/Digest/Custom HTTP Auth.
        :param timeout: (optional) How long to wait for the server to send
            data before giving up, as a float, or a :ref:`(connect timeout,
            read timeout) <timeouts>` tuple.
        :type timeout: float or tuple
        :param allow_redirects: (optional) Set to True by default.
        :type allow_redirects: bool
        :param proxies: (optional) Dictionary mapping protocol or protocol and
            hostname to the URL of the proxy.
        :param stream: (optional) whether to immediately download the response
            content. Defaults to ``False``.
        :param verify: (optional) Either a boolean, in which case it controls whether we verify
            the server's TLS certificate, or a string, in which case it must be a path
            to a CA bundle to use. Defaults to ``True``. When set to
            ``False``, requests will accept any TLS certificate presented by
            the server, and will ignore hostname mismatches and/or expired
            certificates, which will make your application vulnerable to
            man-in-the-middle (MitM) attacks. Setting verify to ``False``
            may be useful during local development or testing.
        :param cert: (optional) if String, path to ssl client cert file (.pem).
            If Tuple, ('cert', 'key') pair.
        :rtype: requests.Response
        """
        ...
    


def session(): # -> Session:
    """
    Returns a :class:`Session` for context-management.

    .. deprecated:: 1.0.0

        This method has been deprecated since version 1.0.0 and is only kept for
        backwards compatibility. New code should use :class:`~requests.sessions.Session`
        to create a session. This may be removed at a future date.

    :rtype: Session
    """
    ...

class HTTPXAsyncClient(httpx.AsyncClient):
    def __init__(self, verify: httpx._types.VerifyTypes | None = ..., **kwargs: Any) -> None:
        ...
    
    async def post(self, url: str, *, content: str | bytes | None = ..., json: dict | None = ..., headers: dict | None = ..., params: dict | None = ..., **kwargs: Any) -> httpx.Response:
        ...
    
    @asynccontextmanager
    async def post_stream(self, method: str, url: str, *, content: str | bytes | None = ..., json: dict | None = ..., headers: dict | None = ..., params: dict | None = ..., **kwargs: Any) -> AsyncIterator[httpx.Response]:
        ...
    
    def __del__(self) -> None:
        ...
    


def backoff_timeout(wx_delay_time: float, attempt: int) -> float:
    ...

class HTTPXClient(httpx.Client):
    """Wrapper for httpx Sync Client"""
    def __init__(self, verify: httpx._types.VerifyTypes | None = ..., **kwargs: Any) -> None:
        ...
    
    def post(self, url: str, *, content: str | bytes | None = ..., json: dict | None = ..., headers: dict | None = ..., params: dict | None = ..., **kwargs: Any) -> httpx.Response:
        ...
    
    @contextmanager
    def post_stream(self, method: str, url: str, *, content: str | bytes | None = ..., json: dict | None = ..., headers: dict | None = ..., params: dict | None = ..., **kwargs: Any) -> Iterator[httpx.Response]:
        ...
    
    def __del__(self) -> None:
        ...
    


class TokenBucket:
    """Thread-safe rate limiter with dynamic token adjustments."""
    def __init__(self, rate, capacity) -> None:
        ...
    
    def refill(self): # -> None:
        """Refill tokens based on elapsed time."""
        ...
    
    def acquire(self): # -> None:
        """Wait for a token and process threads in correct order."""
        ...
    
    async def acquire_async(self): # -> None:
        """Asynchronous acquire: Wait until a token is available."""
        ...
    
    def adjust_tokens(self, remaining_tokens): # -> None:
        """Adjust token count based on RateLimit-Remaining."""
        ...
    
    async def async_adjust_tokens(self, remaining_tokens): # -> None:
        """Adjust token count based on RateLimit-Remaining."""
        ...
    


