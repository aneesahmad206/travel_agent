"""
This type stub file was generated by pyright.
"""

from abc import ABC
from enum import Enum
from typing import Any, Callable
from ibm_watsonx_ai import APIClient

class Context(str, Enum):
    PROJECT = ...
    SPACE = ...
    def __str__(self) -> str:
        ...
    


class BaseRAGPatternService(ABC):
    """Abstract Base Class for RAGPattern function/AI service.

    :param api_client: initialized APIClient object
    :type api_client: APIClient

    :param function: python function generator used as RAG Pattern
    :type function: Callable

    :param default_params: default parameters that will be passed to the provided function
    :type default_params: dict

    :param store_params: parameters used when storing asset, defaults to None
    :type store_params: dict | None, optional

    :param cached: if True function calls will be cached, defaults to False
    :type cached: bool, optional

    :param _allow_store: determines whether to allow storing the asset in WML repository, defaults to True
    :type _allow_store: bool, optional
    """
    DEFAULT_SW_SPEC = ...
    def __init__(self, api_client: APIClient, function: Callable, default_params: dict, store_params: dict | None = ..., cached: bool = ..., _allow_store: bool = ...) -> None:
        ...
    
    def __call__(self, *args: Any, **kwargs: Any) -> Any:
        ...
    
    def deploy(self, name: str, space_id: str | None = ..., store_params: dict | None = ..., deploy_params: dict | None = ...) -> dict:
        """Store and deploy RAGPattern asset to the space."""
        ...
    


class RAGPatternService(BaseRAGPatternService):
    """Initialize ``RAGPatternService`` object.

    :param api_client: initialized APIClient object
    :type api_client: APIClient

    :param ai_service: AI service python function generator used as RAG Pattern
    :type ai_service: Callable

    :param default_params: default parameters that will be passed to the provided function
    :type default_params: dict

    :param store_params: parameters used when storing asset, defaults to None
    :type store_params: dict | None, optional

    :param cached: if True AI service function calls will be cached, defaults to False
    :type cached: bool, optional

    :param _allow_store: determines whether to allow storing the AI service asset in WML repository, defaults to True
    :type _allow_store: bool, optional
    """
    def __init__(self, api_client: APIClient, ai_service: Callable, default_params: dict, store_params: dict | None = ..., cached: bool = ..., _allow_store: bool = ...) -> None:
        ...
    
    @property
    def ai_service(self) -> Callable:
        ...
    
    @property
    def ai_service_id(self) -> str | None:
        ...
    
    @ai_service_id.setter
    def ai_service_id(self, value: str) -> None:
        ...
    
    def pretty_print(self, insert_to_cell: bool = ...) -> None:
        """Print the AI service's source code to inspect or modify.

        :param insert_to_cell: whether to insert python service's source code to a new notebook cell, defaults to False
        :type insert_to_cell: bool, optional
        """
        ...
    
    def deploy(self, name: str, space_id: str | None = ..., store_params: dict | None = ..., deploy_params: dict | None = ...) -> dict:
        """Store and deploy RAGPattern AI service to the space.

        :param name: Name for the stored AI service object as well as the deployed AI service. Can be overwritten by ``store_params`` and ``deploy_params``.
        :type name: str

        :param space_id: ID of the space to deploy AI service to. Must be provided if ``space_id`` was not set at initialization.
        :type space_id: str, optional

        :param store_params: properties used for storing AI service in the repository, to see available meta names use: ``client.repository.AIServiceMetaNames.show()``, defaults to None
        :type store_params: dict, optional

        :param deploy_params: properties used for deploying AI service to the space, to see available meta names use: ``client.deployments.ConfigurationMetaNames.show()``, defaults to None
        :type deploy_params: dict, optional

        :return: details of the deployed asset
        :rtype: dict

        **Example:**

        .. code-block:: python

            pattern.inference_service.deploy(name="Example deployment name")

        .. code-block:: python

            deployment_details = pattern.inference_service.deploy(
                name="Example deployment name",
                store_params={"software_spec_id": "<ID of the custom sw spec>"},
                deploy_params={
                    "description": "Optional deployed AI service description"
                },
            )

        To override vector store `connection_id`, `index_name` or set specific scope id (project_id/space_id) use following:
        .. code-block:: python

            deployment_details = pattern.inference_service.deploy(
                name="Example deployment name",
                store_params={"software_spec_id": "<ID of the custom sw spec>"},
                deploy_params={
                    "online": {
                        "parameters": {
                            "vector_store_settings": {
                                "connection_id": "<connection_to_vector_store>",
                                "index_name": "<index_name>",
                                "project_id": "<project_id>",
                            }
                        }
                    }
                },
            )

        """
        ...
    


class RAGPatternFunction(BaseRAGPatternService):
    """Initialize ``RAGPatternFunction`` object.

    :param api_client: initialized APIClient object
    :type api_client: APIClient

    :param ai_service: python AI service generator used as RAG Pattern
    :type ai_service: Callable

    :param default_params: default parameters that will be passed to the provided function
    :type default_params: dict

    :param store_params: parameters used when storing asset, defaults to None
    :type store_params: dict | None, optional

    :param cached: if True function calls will be cached, defaults to False
    :type cached: bool, optional

    :param _allow_store: determines whether to allow storing the function asset in WML repository, defaults to True
    :type _allow_store: bool, optional
    """
    def __init__(self, function: Callable, default_params: dict, cached: bool = ..., api_client: APIClient | None = ..., store_params: dict | None = ..., _allow_store: bool = ...) -> None:
        ...
    
    @property
    def function(self) -> Callable:
        ...
    
    @property
    def function_id(self) -> str | None:
        ...
    
    @function_id.setter
    def function_id(self, value: str | None) -> None:
        ...
    
    def pretty_print(self, insert_to_cell: bool = ...) -> None:
        """Print the python function's source code to inspect or modify.

        :param insert_to_cell: whether to insert python function's source code to a new notebook cell, defaults to False
        :type insert_to_cell: bool, optional
        """
        ...
    
    def deploy(self, name: str, space_id: str | None = ..., store_params: dict | None = ..., deploy_params: dict | None = ...) -> dict:
        """Store and deploy RAGPattern function to the space.

        :param name: Name for the stored function object as well as the deployed function. Can be overwritten by ``store_params`` and ``deploy_params``.
        :type name: str

        :param space_id: ID of the space to deploy function to. Must be provided if ``space_id`` was not set at initialization.
        :type space_id: str, optional

        :param store_params: properties used for storing function in the repository, to see available meta names use: ``client.repository.FunctionMetaNames.show()``, defaults to None
        :type store_params: dict, optional

        :param deploy_params: properties used for deploying function to the space, to see available meta names use: ``client.deployments.ConfigurationMetaNames.show()``, defaults to None
        :type deploy_params: dict, optional

        :return: details of the deployed function
        :rtype: dict

        **Example:**

        .. code-block:: python

            pattern.inference_function.deploy(name="Example deployment name")

        .. code-block:: python

            deployment_details = pattern.inference_function.deploy(
                name="Example deployment name",
                store_params={"software_spec_id": "<ID of the custom sw spec>"},
                deploy_params={
                    "description": "Optional deployed function description"
                },
            )

        """
        ...
    


